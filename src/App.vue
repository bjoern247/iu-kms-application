<template>
  <div class="app-content">
    <div class="columns is-centered is-vcentered">
      <div class="column is-12-desktop is-two-thirds-widescreen is-half-fullhd">
        <div class="box">
          <nav class="level has-text-centered">
            <div class="level-item has-text-centered mb-0">
              <router-link
                to="/"
                class="button is-dark"
                v-if="$route.name !== 'Home' && $route.name !== 'Login'"
              >
                <span class="icon">
                  <i class="fas fa-home"></i>
                </span>
              </router-link>
              <button
                class="button is-dark ml-2 is-hidden-tablet"
                v-if="$route.name !== 'Home' && $route.name !== 'Login'"
                @click="goBack()"
              >
                <span class="icon">
                  <i class="fas fa-arrow-left"></i>
                </span>
              </button>
            </div>
            <div class="level-item has-text-centered mb-0">
              <p class="is-size-2 is-hidden-mobile">
                IU Korrekturmanagementsystem
              </p>
              <p
                v-if="$route.name === 'Home' || $route.name === 'Login'"
                class="is-size-2 is-hidden-desktop"
              >
                IU KMS
              </p>
            </div>
            <div class="level-item has-text-centered is-hidden-mobile mb-0">
              <button
                class="button is-dark"
                v-if="$route.name !== 'Home' && $route.name !== 'Login'"
                @click="goBack()"
              >
                <span class="icon">
                  <i class="fas fa-arrow-left"></i>
                </span>
              </button>
            </div>
          </nav>

          <!-- <p class="is-size-2 is-hidden-touch has-text-centered">
            IU Korrekturmanagementsystem
          </p>
          <p class="is-size-2 is-hidden-desktop has-text-centered">IU KMS</p> -->
        </div>
      </div>
    </div>
    <span v-if="$route.name !== 'Home'">
      <div class="columns is-centered is-vcentered">
        <div
          class="column is-12-desktop is-two-thirds-widescreen is-half-fullhd"
        >
          <router-view class="mb-3" />
        </div>
      </div>
    </span>
    <span v-else>
      <router-view class="mb-3" />
    </span>
    <div class="columns is-centered is-vcentered">
      <div class="column is-12-desktop is-two-thirds-widescreen is-half-fullhd">
        <div class="box">
          <nav class="level">
            <p class="level-item is-hidden-mobile">
              <svg
                data-t-c="Main Menu"
                data-t-a="click"
                data-t-l="Logo"
                width="136"
                height="47"
                viewBox="0 0 136 47"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M.733 14.631h9.457v31.214H.733V14.631zM5.473.398C2.3.398 0 2.397 0 5.233c0 2.813 2.3 4.834 5.473 4.834 3.174 0 5.474-2.02 5.474-4.834 0-2.836-2.3-4.835-5.474-4.835zM37.28 35.29c-1.846 2.458-3.297 3.432-5.673 3.432-2.73 0-3.964-1.405-3.964-5.897V14.631h-9.456v19.377c0 7.802 2.96 12.59 9.9 12.59 4.353 0 7.357-1.975 10.02-5.085h.233l.68 4.33h7.717V14.63H37.28V35.29zm19.827-20.665h-.893v6.855h.893v-6.855zm2.923 3.27c0-.718-.07-1.448-.113-2.142h.043l.757 1.415 2.537 4.313h.92v-6.856h-.847v3.547c0 .717.067 1.49.113 2.18h-.043l-.757-1.42-2.536-4.31h-.92v6.855h.846v-3.582zm7.68 3.589h.894v-6.12h2.12v-.736H65.59v.737h2.12v6.119zm5.314-3.234h2.656v-.737h-2.656v-2.148h3.15v-.737H72.13v6.856h4.15v-.74h-3.256V18.25zm7.963.231l1.79 3h-1.013l-1.687-2.899H78.81v2.898h-.893v-6.855h2.197c1.426 0 2.453.502 2.453 1.93 0 1.069-.627 1.698-1.58 1.926zm.69-1.926c0-.9-.6-1.223-1.69-1.223H78.81v2.543h1.177c1.09 0 1.69-.43 1.69-1.32zm6.62 1.62c0 .717.07 1.49.113 2.18h-.043l-.757-1.42-2.536-4.31h-.92v6.855H85v-3.585c0-.718-.066-1.448-.113-2.142h.043l.757 1.415 2.537 4.313h.92v-6.856h-.847v3.55zm5.373-3.55l2.37 6.855h-.943l-.667-2.09h-2.556l-.674 2.09h-.906l2.373-6.855h1.003zm.204 3.028a58.761 58.761 0 01-.704-2.311h-.043a48.037 48.037 0 01-.693 2.311l-.337 1.044h2.11l-.333-1.044zm4.186 3.83h.894v-6.118h2.12v-.737H95.94v.737h2.12v6.119zm5.317-6.858h-.893v6.855h.893v-6.855zm7.66 3.403c0 2.197-1.237 3.58-2.997 3.58-1.76 0-2.996-1.383-2.996-3.58s1.236-3.527 2.996-3.527c1.764 0 2.997 1.337 2.997 3.527zm-.92 0c0-1.708-.823-2.761-2.077-2.761-1.253 0-2.073 1.053-2.073 2.761 0 1.708.823 2.814 2.073 2.814s2.077-1.106 2.077-2.814zm7.577 3.456v-6.86h-.847v3.548c0 .717.067 1.49.113 2.18h-.043l-.757-1.42-2.536-4.31h-.92v6.855h.846v-3.582c0-.718-.07-1.448-.113-2.142h.043l.757 1.415 2.537 4.313h.92v.003zm4.526-6.86l2.37 6.856h-.943l-.667-2.09h-2.556l-.674 2.09h-.91l2.374-6.855h1.006zm.204 3.03a58.258 58.258 0 01-.704-2.312h-.043c-.217.795-.44 1.545-.693 2.311l-.337 1.044h2.11l-.333-1.044zm4.163-3.03h-.893v6.856h3.953v-.74h-3.06v-6.115zm5.35 6.12V18.25h2.657v-.737h-2.657v-2.148h3.15v-.737h-4.04v6.856h4.147v-.74h-3.257zm-71.57 8.935h-3.26v-2.872h-.893v6.856h.893v-3.224h3.26v3.224h.89v-6.856h-.89v2.872zm8.553.532c0 2.197-1.236 3.58-2.996 3.58s-2.997-1.383-2.997-3.58c0-2.198 1.237-3.53 2.997-3.53 1.763 0 2.996 1.339 2.996 3.53zm-.92 0c0-1.709-.823-2.762-2.076-2.762-1.254 0-2.074 1.053-2.074 2.762 0 1.708.824 2.81 2.074 2.81 1.253 0 2.076-1.102 2.076-2.81zm5.27 2.81c-1.33 0-2.17-1.08-2.17-2.804 0-1.708.88-2.77 2.207-2.77.59 0 1.053.26 1.423.645l.49-.568a2.638 2.638 0 00-1.926-.844c-1.78 0-3.114 1.35-3.114 3.56 0 2.227 1.31 3.547 3.057 3.547.91 0 1.597-.362 2.15-.991l-.49-.548c-.45.49-.957.773-1.627.773zm7.724-3.342h-3.26v-2.872h-.894v6.856h.894v-3.224h3.26v3.224h.893v-6.856h-.893v2.872zm5.856.33l-1-.424c-.55-.229-1.16-.473-1.16-1.135 0-.613.52-1 1.307-1 .647 0 1.16.247 1.59.642l.473-.561a2.923 2.923 0 00-2.063-.85c-1.273 0-2.207.772-2.207 1.818 0 1.008.767 1.493 1.42 1.767l1.007.434c.663.283 1.17.505 1.17 1.206 0 .665-.543 1.115-1.467 1.115-.73 0-1.43-.336-1.933-.851l-.533.6a3.393 3.393 0 002.453 1.017c1.473 0 2.39-.864 2.39-1.95-.003-1.017-.637-1.49-1.447-1.828zm5.657 3.012c-1.33 0-2.17-1.08-2.17-2.804 0-1.708.88-2.77 2.207-2.77.593 0 1.056.26 1.423.645l.49-.568a2.64 2.64 0 00-1.93-.844c-1.78 0-3.11 1.35-3.11 3.56 0 2.227 1.31 3.547 3.053 3.547.91 0 1.597-.362 2.15-.991l-.49-.548c-.446.49-.953.773-1.623.773zm7.727-3.342h-3.26v-2.872h-.894v6.856h.894v-3.224h3.26v3.224h.89v-6.856h-.89v2.872zm7.12 1.177c0 1.646-.734 2.165-1.664 2.165-.916 0-1.626-.519-1.626-2.165v-4.049h-.894v4.026c0 2.2 1.09 2.957 2.52 2.957s2.517-.756 2.517-2.957v-4.026h-.857v4.05h.004zm3.786-4.049h-.893v6.856h3.953v-.74h-3.06v-6.116zm5.347 3.625h2.657v-.74h-2.657v-2.148h3.15v-.74h-4.04v6.856h4.147v-.74h-3.257v-2.488z"
                  fill="#1D1D1F"
                ></path>
              </svg>
            </p>
            <p class="level-item">
              <a class="link is-info" href="https://www.iu.de/impressum/"
                >Impressum</a
              >
            </p>
            <p class="level-item">
              <a class="link is-info" href="https://www.iu.de/datenschutz/"
                >Datenschutzerkl√§rung</a
              >
            </p>
            <div class="level-item">
              <button
                class="button is-danger is-pulled-right"
                v-if="$route.name !== 'Home' && $route.name !== 'Login'"
                @click="logout()"
              >
                <span class="icon">
                  <i class="fas fa-sign-out-alt"></i>
                </span>
              </button>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import useFirebaseAuth from "./store/user";
import { useRouter } from "vue-router";
export default {
  setup() {
    const { logout } = useFirebaseAuth();
    const router = useRouter();
    function goBack() {
      router.back();
    }
    return {
      logout,
      goBack,
    };
  },
};
</script>

<style lang="scss">
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: #2c3e50;
}
.navbar {
  box-shadow: 0 4px 5px 0px rgba(0, 0, 0, 0.1);
}
.navbar-item {
  font-weight: 700;
}
.app-content {
  margin-left: 1rem;
  margin-right: 1rem;
  padding-top: 5rem;
}
</style>
